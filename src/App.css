@import './styles/Header.css';
@import './styles/SearchBar.css';
@import './styles/Filters.css';
@import './styles/ImageGrid.css';
@import './styles/Modal.css';
@import './styles/Changelog.css';
@import './styles/TopRightLinks.css';
@import './styles/ScrollToTopButton.css';
@import './styles/KofiButton.css';
@import './styles/MissingCardLink.css';
@import './styles/FilterBox.css';

html {
    scroll-behavior: smooth;
}

.app-wrapper {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    background-color: #1e1e1e;
    color: white;
    width: 100%;
    font-family: 'Poppins', sans-serif;
    padding-top: 50px; /* Default top padding */
    transition: padding-top 0.5s ease-in-out;
    overflow-x: hidden; /* Prevent horizontal scrolling */
}

.app-wrapper.initial-state {
    padding-top: 30vh; /* Pushes content down in the initial state */
}

.main-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    max-width: 1200px;
    padding: 0 20px;
}

.content-with-filters {
    display: flex;
    justify-content: center;
    align-items: flex-start;
    width: 100%;
    gap: 20px;
}

.content-with-filters.filters-visible {
    /* This transform compensates for the filter box width to keep the grid centered */
    transform: translateX(85px);
}

.mobile-filter-toggle {
    display: none; /* Hidden by default */
}

/* --- Sticky Container --- */
.sticky-container {
    position: sticky;
    top: 0;
    background-color: #1e1e1e;
    padding: 20px 0;
    z-index: 50;
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideIn {
    from { transform: scale(0.95); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
}

/* --- Responsive Styles --- */
@media (max-width: 768px) {
    .app-wrapper.initial-state {
        padding-top: 25vh;
    }
    
    .content-with-filters {
        display: flex;
        flex-direction: column-reverse;
    }
    
    .content-with-filters.filters-visible {
        transform: none; /* Remove transform on mobile */
    }

    .filter-box-wrapper {
        max-height: 0;
        opacity: 0;
        overflow: hidden;
        transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out;
        width: 100%;
    }

    .filter-box-wrapper.open {
        max-height: 500px; /* Adjust as needed */
        opacity: 1;
    }

    .filter-box {
        margin-left: 0;
        margin-bottom: 20px;
        width: 100%;
    }

    .mobile-filter-toggle {
        display: block;
        width: 100%;
        padding: 10px;
        margin-bottom: 20px;
        background-color: #2d2d2d;
        color: #ccc;
        border: 1px solid #444;
        border-radius: 8px;
        cursor: pointer;
    }

    .title {
        font-size: 2rem;
    }

    .title .title-desktop {
        display: none;
    }

    .title .title-mobile {
        display: inline;
    }

    .titleSubtext {
        font-size: 0.9rem;
    }

    .search-and-controls-container {
        flex-direction: column;
        gap: 15px;
    }

    .search-input {
        width: 100%;
        font-size: 0.9rem; /* Smaller font on mobile */
    }
    
    .search-button {
        width: 100%;
    }

    .filters-container {
        flex-direction: column;
        gap: 15px;
    }

    .checkbox-group {
        flex-wrap: wrap;
        justify-content: center;
        gap: 15px;
    }

    .modal-content {
        flex-direction: column;
        align-items: center; /* Center content on mobile */
        padding: 15px;
        max-height: 85vh;
        overflow-y: auto;
    }

    .modal-image {
        height: auto;
        max-width: 100%;
        max-height: 50vh;
    }

    .modal-metadata {
        max-height: none;
        padding: 15px;
    }

    .modal-metadata h2 {
        font-size: 1.5rem;
    }

    .modal-metadata p {
        font-size: 0.9rem;
    }

    .modal-close-button {
        top: 5px;
        right: 5px;
        width: 35px;
        height: 35px;
    }
}

@media (max-width: 480px) {
    .app-wrapper {
        padding-top: 20px;
    }

    .app-wrapper.initial-state {
        padding-top: 20vh;
    }

    .main-container {
        padding: 0 15px;
    }

    .title {
        font-size: 1.8rem;
    }

    .github-links {
        top: 15px;
        right: 15px;
    }

    .filter-buttons-group {
        flex-direction: column;
        width: 100%;
    }

    .sort-button, .grid-toggle-button, .set-name-toggle-button, .reverse-holo-toggle-button {
        width: 100%;
        justify-content: center;
    }
}

@media print {
    @page {
        size: letter portrait;
        margin: 0.5cm;
    }

    body {
        background-color: white !important;
        color: black !important;
    }

    .app-wrapper, .main-container, .content-with-filters {
        display: block !important;
        width: 100% !important;
        padding: 0 !important;
        margin: 0 !important;
    }

    .content-with-filters.filters-visible {
        transform: none !important;
    }

    .sticky-container,
    .top-right-links,
    .mobile-filter-toggle,
    .filter-box-wrapper,
    .kofi-button,
    .missing-card-link,
    .scroll-to-top-button,
    .modal,
    .changelog,
    .header-container {
        display: none !important;
    }

    .image-grid {
        display: grid !important;
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 0 !important; /* Remove gap between cards */
        page-break-inside: avoid;
    }

    .image-card {
        width: 63mm;
        height: 88mm;
        border: none !important;
        box-shadow: none !important;
        page-break-inside: avoid !important;
        break-inside: avoid !important;
        overflow: visible !important;
        display: block !important;
    }

    .grid-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
}
